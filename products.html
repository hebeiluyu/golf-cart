<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Products | Luyu Electric Vehicles</title>
  <meta name="description" content="Electric golf carts, electric mini buses and utility vehicles (UTV). OEM/CKD supported. Build your configuration, estimate total price and request a quote on WhatsApp." />
  <link rel="canonical" href="https://luyuevcart.com/products.html" />

  <style>
    :root{
      /* Match your light green + white style */
      --bg:#f2fbf5;
      --panel:#ffffff;
      --panel2:#f7fffa;
      --text:#0f172a;
      --muted:#475569;
      --line:#d9f1e2;

      --green:#18a558;
      --green2:#11b36a;
      --greenSoft:#e8f8ef;

      --shadow:0 10px 28px rgba(16,24,40,.10);
      --shadow2:0 6px 18px rgba(16,24,40,.08);

      --radius:18px;
      --radius2:22px;

      --max:1180px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% 0%, rgba(24,165,88,.12), transparent 55%),
        radial-gradient(900px 500px at 90% 10%, rgba(17,179,106,.10), transparent 55%),
        linear-gradient(180deg, var(--bg), #ffffff 70%);
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--max); margin:0 auto; padding:0 20px}

    /* Topbar (simple) */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(140%) blur(10px);
      background:rgba(255,255,255,.78);
      border-bottom:1px solid rgba(217,241,226,.9);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0; gap:16px;
    }
    .brand{display:flex; align-items:center; gap:12px; min-width:220px}
    .logo{
      width:40px; height:40px; border-radius:12px;
      background:linear-gradient(135deg, rgba(24,165,88,.18), rgba(17,179,106,.12));
      border:1px solid rgba(24,165,88,.25);
      display:grid; place-items:center;
      font-weight:900; color:rgba(15,23,42,.85);
      letter-spacing:.5px;
      overflow:hidden;
    }
    .logo img{width:100%; height:100%; object-fit:contain; padding:6px; display:block}
    .brand-title{font-weight:900; line-height:1.1}
    .menu{
      display:flex; gap:22px; flex-wrap:wrap; align-items:center;
      color:rgba(15,23,42,.75); font-weight:700;
    }
    .menu a:hover{background:rgba(24,165,88,.08); border-radius:10px; padding:6px 8px; color:rgba(15,23,42,.92)}
    .cta{display:flex; gap:10px; align-items:center}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 14px; border-radius:14px;
      border:1px solid rgba(24,165,88,.22);
      background:#fff;
      box-shadow:var(--shadow2);
      font-weight:800;
      transition:transform .15s ease, box-shadow .15s ease;
      white-space:nowrap;
      cursor:pointer;
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 10px 24px rgba(16,24,40,.12)}
    .btn-green{
      background:linear-gradient(135deg, var(--green), var(--green2));
      color:white;
      border:0;
    }
    .btn-ghost{
      background:rgba(24,165,88,.06);
      border:1px solid rgba(24,165,88,.18);
      box-shadow:none;
    }

    /* Page header */
    .page-head{
      padding:18px 0 10px;
    }
    .page-head h1{
      margin:0 0 8px;
      font-size:32px;
      letter-spacing:-.3px;
    }
    .page-head p{
      margin:0;
      color:rgba(71,85,105,.85);
      font-weight:650;
      line-height:1.55;
      max-width:90ch;
    }

    /* Tabs */
    .tabs{
      display:flex; gap:10px; flex-wrap:wrap;
      padding:14px 0 10px;
    }
    .tab{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 14px;
      border-radius:999px;
      background:rgba(24,165,88,.06);
      border:1px solid rgba(24,165,88,.18);
      font-weight:900;
      color:rgba(15,23,42,.82);
      transition:all .15s ease;
    }
    .tab:hover{
      transform:translateY(-1px);
      background:rgba(24,165,88,.10);
      border-color:rgba(24,165,88,.30);
    }
    .tab .dot{
      width:9px;height:9px;border-radius:50%;
      background:linear-gradient(135deg, var(--green), var(--green2));
      box-shadow:0 0 0 4px rgba(24,165,88,.12);
    }

    /* Sections */
    .section{
      padding:18px 0 8px;
    }
    .section h2{
      margin:0 0 10px;
      font-size:26px;
      letter-spacing:-.2px;
    }
    .cards{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:14px;
    }
    .cards3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
    }
    .card{
      border-radius:var(--radius2);
      overflow:hidden;
      border:1px solid rgba(217,241,226,.95);
      background:rgba(255,255,255,.86);
      box-shadow:var(--shadow);
      transition:transform .18s ease, box-shadow .18s ease;
    }
    .card:hover{transform:translateY(-2px); box-shadow:0 14px 32px rgba(16,24,40,.14)}
    .media{
      height:130px;
      background:linear-gradient(135deg, rgba(24,165,88,.12), rgba(17,179,106,.06));
      border-bottom:1px solid rgba(217,241,226,.95);
      display:flex; align-items:center; justify-content:center;
      color:rgba(71,85,105,.70);
      font-weight:900;
      letter-spacing:.2px;
      padding:12px;
      text-align:center;
      position:relative;
    }
    .media img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
    }
    .pill{
      position:absolute;
      left:12px; top:12px;
      background:rgba(255,255,255,.78);
      border:1px solid rgba(217,241,226,.95);
      border-radius:999px;
      padding:6px 10px;
      font-weight:900;
      font-size:12px;
      color:rgba(15,23,42,.85);
      box-shadow:var(--shadow2);
    }
    .body{
      padding:14px;
    }
    .body h3{
      margin:0 0 6px;
      font-size:16px;
      letter-spacing:-.1px;
    }
    .body p{
      margin:0 0 12px;
      color:rgba(71,85,105,.85);
      font-weight:650;
      line-height:1.5;
      min-height: 44px;
    }
    .actions{display:flex; gap:10px; flex-wrap:wrap; align-items:center}

    /* Free gifts */
    .note{
      margin:16px 0 0;
      border:1px solid rgba(24,165,88,.18);
      background:rgba(24,165,88,.06);
      border-radius:var(--radius);
      padding:14px;
      color:rgba(15,23,42,.85);
      box-shadow:var(--shadow2);
    }
    .note h3{margin:0 0 8px; font-size:15px}
    .note ul{margin:0; padding-left:18px; color:rgba(71,85,105,.90); font-weight:650; line-height:1.55}

    /* Modal (big) */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:flex-end;
      justify-content:center;
      background:rgba(15,23,42,.40);
      z-index:200;
      padding:18px;
    }
    .modal.open{display:flex}
    .modal-dialog{
      width:min(1040px, 100%);
      max-height: 90vh;
      background:rgba(255,255,255,.96);
      border:1px solid rgba(217,241,226,.95);
      border-radius:24px;
      box-shadow: 0 20px 70px rgba(2,6,23,.25);
      overflow:hidden;
      display:grid;
      grid-template-columns: 1fr 1fr;
    }
    .modal-left{
      padding:18px;
      border-right:1px solid rgba(217,241,226,.95);
      background: linear-gradient(180deg, rgba(24,165,88,.06), rgba(255,255,255,.96));
    }
    .modal-right{
      padding:18px;
      overflow:auto;
    }
    .modal-header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
    }
    .modal-header h3{
      margin:0;
      font-size:20px;
      letter-spacing:-.2px;
    }
    .close{
      border:1px solid rgba(15,23,42,.12);
      background:#fff;
      border-radius:12px;
      padding:8px 10px;
      font-weight:900;
      cursor:pointer;
    }
    .pricebox{
      border:1px solid rgba(24,165,88,.18);
      background:rgba(24,165,88,.06);
      border-radius:16px;
      padding:12px;
      margin:10px 0 14px;
    }
    .pricebox .from{
      font-size:13px;
      color:rgba(71,85,105,.85);
      font-weight:800;
    }
    .pricebox .big{
      font-size:26px;
      font-weight:900;
      letter-spacing:-.2px;
      margin-top:2px;
    }
    .ref{
      font-size:12px;
      color:rgba(71,85,105,.80);
      font-weight:650;
      margin-top:6px;
    }
    .block{
      margin:12px 0 14px;
      border-top:1px solid rgba(217,241,226,.95);
      padding-top:12px;
    }
    .block h4{
      margin:0 0 10px;
      font-size:14px;
      letter-spacing:.1px;
    }

    /* option grid */
    .optgrid{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }
    .opt{
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding:10px;
      border:1px solid rgba(217,241,226,.95);
      border-radius:16px;
      background:#fff;
      box-shadow: var(--shadow2);
      transition:transform .15s ease;
    }
    .opt:hover{transform:translateY(-1px)}
    .thumb{
      width:58px; height:58px;
      border-radius:14px;
      border:1px solid rgba(217,241,226,.95);
      background:rgba(24,165,88,.08);
      display:flex;
      align-items:center;
      justify-content:center;
      color:rgba(71,85,105,.70);
      font-weight:900;
      flex:0 0 auto;
      overflow:hidden;
    }
    .thumb img{width:100%; height:100%; object-fit:cover}
    .opt-main{flex:1 1 auto}
    .opt-main b{display:block; font-size:13.5px}
    .opt-main small{display:block; color:rgba(71,85,105,.85); font-weight:650; margin-top:3px; line-height:1.35}
    .opt-end{
      flex:0 0 auto;
      text-align:right;
      min-width:130px;
    }
    .opt-end .price{
      font-weight:900;
      color:rgba(15,23,42,.85);
      font-size:13px;
    }
    .opt-end label{
      display:inline-flex;
      align-items:center;
      gap:8px;
      justify-content:flex-end;
      margin-top:6px;
      font-weight:800;
      color:rgba(15,23,42,.80);
      cursor:pointer;
    }
    input[type="radio"], input[type="checkbox"]{
      width:18px; height:18px;
      accent-color: var(--green);
      cursor:pointer;
    }

    /* Floating total bar */
    .totalbar{
      position:fixed;
      left:12px;
      right:12px;
      bottom:12px;
      z-index:250;
      display:none;
      justify-content:center;
      pointer-events:none;
    }
    .totalbar.show{display:flex}
    .total-inner{
      pointer-events:auto;
      width:min(1040px, 100%);
      background:rgba(255,255,255,.92);
      border:1px solid rgba(217,241,226,.95);
      border-radius:18px;
      box-shadow: 0 18px 60px rgba(2,6,23,.18);
      padding:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .total-left{
      display:flex;
      gap:10px;
      align-items:baseline;
      flex-wrap:wrap;
    }
    .total-left .t{
      font-weight:900;
      font-size:14px;
    }
    .total-left .v{
      font-weight:900;
      font-size:22px;
      letter-spacing:-.2px;
    }
    .total-left .note{
      background:transparent;
      border:none;
      box-shadow:none;
      padding:0;
      margin:0;
      color:rgba(71,85,105,.80);
      font-weight:700;
      font-size:12px;
    }
    .total-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    /* Responsive */
    @media (max-width: 980px){
      .cards{grid-template-columns: 1fr 1fr}
      .cards3{grid-template-columns: 1fr}
      .modal-dialog{grid-template-columns: 1fr}
      .modal-left{border-right:none; border-bottom:1px solid rgba(217,241,226,.95)}
      .menu{display:none}
    }
    @media (max-width: 560px){
      .cards{grid-template-columns: 1fr}
      .opt-end{min-width: 110px}
    }
  </style>
</head>

<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="container">
      <div class="nav">
        <a class="brand" href="index.html">
          <div class="logo">
            <img src="images/logo.png" alt="Luyu logo" onerror="this.style.display='none'; this.parentElement.textContent='LV';">
          </div>
          <div class="brand-title">Luyu Electric Vehicles</div>
        </a>

        <nav class="menu" aria-label="Main">
          <a href="index.html">Home</a>
          <a href="products.html">Products</a>
          <a href="oem-custom.html">OEM &amp; Custom</a>
          <a href="about.html">About Us</a>
          <a href="contact.html">Contact</a>
        </nav>

        <div class="cta">
          <a class="btn btn-green" href="https://wa.me/8613292812529" target="_blank" rel="noopener">WhatsApp</a>
        </div>
      </div>
    </div>
  </div>

  <main class="container">
    <!-- Page header -->
    <section class="page-head">
      <h1>Products</h1>
      <p>
        Factory direct export products: Electric Golf Carts, Electric Mini Buses, and Utility Vehicles (UTV).
        OEM/CKD supported. Prices are for reference only — final quotation depends on configuration and destination.
      </p>

      <!-- Tabs -->
      <div class="tabs">
        <a class="tab" href="#golf"><span class="dot"></span> Electric Golf Carts</a>
        <a class="tab" href="#bus"><span class="dot"></span> Electric Mini Buses</a>
        <a class="tab" href="#utv"><span class="dot"></span> Utility Vehicles (UTV)</a>
      </div>
    </section>

    <!-- GOLF CARTS -->
    <section class="section" id="golf">
      <h2>Electric Golf Carts</h2>

      <div class="cards">
        <!-- Package A -->
        <article class="card">
          <div class="media">
            <span class="pill">PACKAGE A</span>
            <!-- optional image -->
            <!-- <img src="images/golf-a.jpg" alt="Golf cart package A"> -->
            Placeholder photo (Front face A)
          </div>
          <div class="body">
            <h3>Package A – Budget / Entry Level</h3>
            <p>Good for cost-sensitive buyers. Export-ready packing. OEM logo supported.</p>
            <div class="actions">
              <button class="btn btn-green" onclick="openModal('golf','A')">Details / Order</button>
            </div>
          </div>
        </article>

        <!-- Package B -->
        <article class="card">
          <div class="media">
            <span class="pill">PACKAGE B</span>
            Placeholder photo (Front face B)
          </div>
          <div class="body">
            <h3>Package B – Standard / Best Seller</h3>
            <p>Most popular configuration for resorts and communities. Balanced features.</p>
            <div class="actions">
              <button class="btn btn-green" onclick="openModal('golf','B')">Details / Order</button>
            </div>
          </div>
        </article>

        <!-- Package C -->
        <article class="card">
          <div class="media">
            <span class="pill">PACKAGE C</span>
            Placeholder photo (Front face C)
          </div>
          <div class="body">
            <h3>Package C – Premium / Export Popular</h3>
            <p>More comfort and options for premium markets. Suitable for branding projects.</p>
            <div class="actions">
              <button class="btn btn-green" onclick="openModal('golf','C')">Details / Order</button>
            </div>
          </div>
        </article>

        <!-- Package D -->
        <article class="card">
          <div class="media">
            <span class="pill">PACKAGE D</span>
            Placeholder photo (Front face D)
          </div>
          <div class="body">
            <h3>Package D – Luxury / Fully Customized</h3>
            <p>Luxury upgrades, infotainment and accessories. Made for VIP user experience.</p>
            <div class="actions">
              <button class="btn btn-green" onclick="openModal('golf','D')">Details / Order</button>
            </div>
          </div>
        </article>
      </div>

      <!-- Free gifts (B decision) -->
      <div class="note">
        <h3>Free Gifts (Included)</h3>
        <ul>
          <li>Free logo design</li>
          <li>Free body color customization</li>
          <li>Local charger for your market</li>
          <li>Golf balls (sample) + vulnerable switch parts</li>
        </ul>
      </div>
    </section>

    <!-- MINI BUS -->
    <section class="section" id="bus">
      <h2>Electric Mini Buses</h2>

      <div class="cards3">
        <article class="card">
          <div class="media">
            <span class="pill">PACKAGE A</span>
            Placeholder photo (Mini bus front face A)
          </div>
          <div class="body">
            <h3>Mini Bus Package A</h3>
            <p>Shuttle solutions for hotels, campuses and parks. Seat options from 8 to 23.</p>
            <div class="actions">
              <button class="btn btn-green" onclick="openModal('bus','A')">Details / Order</button>
            </div>
          </div>
        </article>

        <article class="card">
          <div class="media">
            <span class="pill">PACKAGE B</span>
            Placeholder photo (Mini bus front face B)
          </div>
          <div class="body">
            <h3>Mini Bus Package B</h3>
            <p>More configuration flexibility: body style, motor power and export options.</p>
            <div class="actions">
              <button class="btn btn-green" onclick="openModal('bus','B')">Details / Order</button>
            </div>
          </div>
        </article>

        <article class="card">
          <div class="media">
            <span class="pill">CUSTOM</span>
            Placeholder photo (Custom request)
          </div>
          <div class="body">
            <h3>Custom Layout / OEM Project</h3>
            <p>Tell us your route, seats, and regulations. We’ll propose a suitable configuration.</p>
            <div class="actions">
              <a class="btn btn-green" href="https://wa.me/8613292812529" target="_blank" rel="noopener">Request on WhatsApp</a>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- UTV -->
    <section class="section" id="utv">
      <h2>Utility Vehicles (UTV)</h2>

      <div class="cards3">
        <article class="card">
          <div class="media">
            <span class="pill">CARGO</span>
            Placeholder photo (Cargo UTV)
          </div>
          <div class="body">
            <h3>Cargo UTV</h3>
            <p>For maintenance and cargo transport. Various box types available.</p>
            <div class="actions">
              <a class="btn btn-green" href="https://wa.me/8613292812529" target="_blank" rel="noopener">View / Order</a>
            </div>
          </div>
        </article>

        <article class="card">
          <div class="media">
            <span class="pill">FLATBED</span>
            Placeholder photo (Flatbed UTV)
          </div>
          <div class="body">
            <h3>Flatbed UTV</h3>
            <p>Ideal for industrial parks and warehouses. Export packing support.</p>
            <div class="actions">
              <a class="btn btn-green" href="https://wa.me/8613292812529" target="_blank" rel="noopener">View / Order</a>
            </div>
          </div>
        </article>

        <article class="card">
          <div class="media">
            <span class="pill">LIFTED</span>
            Placeholder photo (Lifted UTV)
          </div>
          <div class="body">
            <h3>Lifted UTV</h3>
            <p>Off-road options, stronger tires, and custom accessories available.</p>
            <div class="actions">
              <a class="btn btn-green" href="https://wa.me/8613292812529" target="_blank" rel="noopener">View / Order</a>
            </div>
          </div>
        </article>
      </div>
    </section>
  </main>

  <!-- BIG MODAL -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="mTitle">
      <div class="modal-left">
        <div class="modal-header">
          <h3 id="mTitle">Configuration</h3>
          <button class="close" onclick="closeModal()">Close</button>
        </div>

        <div class="pricebox">
          <div class="from">Base price (reference)</div>
          <div class="big" id="basePrice">From $****</div>
          <div class="ref">USD for reference only. Final price depends on configuration & destination.</div>
        </div>

        <div class="pricebox">
          <div class="from">Current total (reference)</div>
          <div class="big" id="totalPrice">$0</div>
          <div class="ref">Click Shipping / Get Quote to send your selection on WhatsApp.</div>
        </div>

        <div>
          <button class="btn btn-green" onclick="sendWhatsApp()">Shipping / Get Quote (WhatsApp)</button>
          <button class="btn btn-ghost" onclick="resetSelections()">Reset</button>
        </div>
      </div>

      <div class="modal-right" id="modalForm">
        <!-- dynamic form injected by JS -->
      </div>
    </div>
  </div>

  <!-- Floating total bar -->
  <div class="totalbar" id="totalbar">
    <div class="total-inner">
      <div class="total-left">
        <div class="t">Total (reference):</div>
        <div class="v" id="totalBarPrice">$0</div>
        <div class="note">USD for reference only.</div>
      </div>
      <div class="total-actions">
        <button class="btn btn-green" onclick="sendWhatsApp()">Shipping / Get Quote</button>
        <button class="btn btn-ghost" onclick="closeModal()">Close</button>
      </div>
    </div>
  </div>

  <script>
    // Smooth scroll for tabs
    document.querySelectorAll('.tab').forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const id = a.getAttribute('href');
        document.querySelector(id).scrollIntoView({behavior:'smooth', block:'start'});
      });
    });

    const WHATSAPP = "8613292812529";

    // Product modal state
    let currentCategory = "";
    let currentPackage = "";
    let baseFrom = 0; // numeric base used for calculation (you can set later)
    let selected = []; // {label, price}
    let selectionText = "";

    // Prices (you can edit later easily)
    const PRICES = {
      golf: {
        A: { fromText: "From $****", base: 0 },
        B: { fromText: "From $****", base: 0 },
        C: { fromText: "From $****", base: 0 },
        D: { fromText: "From $****", base: 0 },
        seats: [
          {label:"2 Seats", price:0},
          {label:"4 Seats", price:0},
          {label:"6 Seats", price:0},
          {label:"8 Seats", price:0},
        ],
        upgrades: {
          seat: [
            {label:"Standard Seat", price:0, img:"images/u-seat-standard.jpg"},
            {label:"Luxury Seat", price:88, img:"images/u-seat-luxury.jpg"},
          ],
          dashboard: [
            {label:"Standard Dashboard", price:0, img:"images/u-dash-standard.jpg"},
            {label:"CarPlay + Rear Camera", price:171, img:"images/u-dash-carplay.jpg"},
          ],
          belt: [
            {label:"No Seat Belt", price:0, img:"images/u-belt-none.jpg"},
            {label:"2-point Seat Belt", price:35, img:"images/u-belt-2.jpg"},
            {label:"3-point Premium Seat Belt", price:40, img:"images/u-belt-3.jpg"},
          ],
          tire: [
            {label:"10-inch Road Tire (Standard)", price:0, img:"images/u-tire-10.jpg"},
            {label:"12-inch Road Tire", price:88, img:"images/u-tire-12.jpg"},
            {label:"14-inch Off-road Tire", price:172, img:"images/u-tire-14.jpg"},
          ],
          motor: [
            {label:"3.5kW Motor (Standard)", price:0, img:"images/u-motor-3.5.jpg"},
            {label:"4kW Motor", price:0, img:"images/u-motor-4.jpg"},
            {label:"5kW Motor", price:0, img:"images/u-motor-5.jpg"},
          ],
          extras: [
            {label:"Full Wrap Cover", price:45, img:"images/u-cover.jpg"},
            {label:"Speaker Upgrade (2 sets)", price:165, img:"images/u-speaker.jpg"},
            {label:"Foldable Windshield", price:60, img:"images/u-windshield.jpg"},
            {label:"Front Bumper", price:60, img:"images/u-bumper.jpg"},
            {label:"Front Basket", price:50, img:"images/u-basket.jpg"},
            {label:"Golf Bag Holder", price:50, img:"images/u-golfbag.jpg"},
            {label:"Sound Bar (Full car)", price:100, img:"images/u-soundbar.jpg"},
            {label:"Search Light", price:25, img:"images/u-light.jpg"},
            {label:"LED Ambient Lights", price:35, img:"images/u-led.jpg"},
          ]
        }
      },

      bus: {
        A: { fromText: "From $****", base: 0 },
        B: { fromText: "From $****", base: 0 },
        seats: [
          {label:"8 Seats (Standard)", price:0},
          {label:"11 Seats", price:0},
          {label:"14 Seats", price:0},
          {label:"17 Seats", price:0},
          {label:"20 Seats", price:0},
          {label:"23 Seats", price:0},
        ],
        motor: [
          {label:"3.5kW Motor (Standard)", price:0, img:"images/u-motor-3.5.jpg"},
          {label:"4kW Motor", price:0, img:"images/u-motor-4.jpg"},
          {label:"5kW Motor", price:0, img:"images/u-motor-5.jpg"},
        ],
        body: [
          {label:"Open Top", price:0, img:"images/u-body-open.jpg"},
          {label:"Enclosed Body", price:0, img:"images/u-body-close.jpg"},
        ],
        tire: [
          {label:"12-inch Road Tire", price:88, img:"images/u-tire-12.jpg"},
          {label:"14-inch Off-road Tire", price:172, img:"images/u-tire-14.jpg"},
        ]
      }
    };

    function openModal(category, pkg){
      currentCategory = category;
      currentPackage = pkg;
      selected = [];
      selectionText = "";

      // title
      const title = (category==="golf")
        ? `Electric Golf Cart – Package ${pkg}`
        : `Electric Mini Bus – Package ${pkg}`;
      document.getElementById("mTitle").textContent = title;

      // base price display
      if(category === "golf"){
        baseFrom = PRICES.golf[pkg].base;
        document.getElementById("basePrice").textContent = PRICES.golf[pkg].fromText;
      } else {
        baseFrom = PRICES.bus[pkg].base;
        document.getElementById("basePrice").textContent = PRICES.bus[pkg].fromText;
      }

      // build form
      const html = (category==="golf") ? buildGolfForm() : buildBusForm();
      document.getElementById("modalForm").innerHTML = html;

      // open modal + show total bar
      document.getElementById("modal").classList.add("open");
      document.getElementById("modal").setAttribute("aria-hidden","false");
      document.getElementById("totalbar").classList.add("show");

      // attach events
      attachEvents();
      calcTotal();
    }

    function closeModal(){
      document.getElementById("modal").classList.remove("open");
      document.getElementById("modal").setAttribute("aria-hidden","true");
      document.getElementById("totalbar").classList.remove("show");
    }

    function resetSelections(){
      document.querySelectorAll('#modalForm input').forEach(i=>{
        i.checked = false;
      });
      selected = [];
      calcTotal();
    }

    function optRow(type, name, label, price, img, inputType){
      const safePrice = Number(price || 0);
      const pText = safePrice === 0 ? "+$0" : `+$${safePrice}`;
      const imgHtml = img
        ? `<img src="${img}" alt="${label}" onerror="this.remove();">`
        : "";
      return `
        <div class="opt">
          <div class="thumb">${imgHtml || "IMG"}</div>
          <div class="opt-main">
            <b>${label}</b>
            <small>${type}</small>
          </div>
          <div class="opt-end">
            <div class="price">${pText}</div>
            <label>
              <input type="${inputType}" name="${name}" data-label="${label}" data-price="${safePrice}">
              Select
            </label>
          </div>
        </div>`;
    }

    function buildGolfForm(){
      const g = PRICES.golf;
      return `
        <div class="block">
          <h4>Seat Selection (choose one)</h4>
          <div class="optgrid">
            ${g.seats.map(s => optRow("Seat", "seat", s.label, s.price, "", "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Seats (choose one)</h4>
          <div class="optgrid">
            ${g.upgrades.seat.map(x => optRow("Seat Upgrade", "u_seat", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Dashboard (choose one)</h4>
          <div class="optgrid">
            ${g.upgrades.dashboard.map(x => optRow("Dashboard", "u_dash", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Seat Belts (choose one)</h4>
          <div class="optgrid">
            ${g.upgrades.belt.map(x => optRow("Seat Belt", "u_belt", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Tires (choose one)</h4>
          <div class="optgrid">
            ${g.upgrades.tire.map(x => optRow("Tire", "u_tire", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Motor (choose one)</h4>
          <div class="optgrid">
            ${g.upgrades.motor.map(x => optRow("Motor", "u_motor", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Optional Accessories (multi-select)</h4>
          <div class="optgrid">
            ${g.upgrades.extras.map(x => optRow("Accessory", "u_extra", x.label, x.price, x.img, "checkbox")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Notes (you will fill later)</h4>
          <div style="background:#fff;border:1px solid rgba(217,241,226,.95);border-radius:16px;padding:12px;color:rgba(71,85,105,.85);font-weight:650;line-height:1.55;">
            Base configuration for this package: (placeholder) — you can write the standard spec here later.
          </div>
        </div>
      `;
    }

    function buildBusForm(){
      const b = PRICES.bus;
      return `
        <div class="block">
          <h4>Seat Selection (choose one)</h4>
          <div class="optgrid">
            ${b.seats.map(s => optRow("Seat", "bus_seat", s.label, s.price, "", "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Motor (choose one)</h4>
          <div class="optgrid">
            ${b.motor.map(x => optRow("Motor", "bus_motor", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Body Style (choose one)</h4>
          <div class="optgrid">
            ${b.body.map(x => optRow("Body", "bus_body", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Tires (choose one)</h4>
          <div class="optgrid">
            ${b.tire.map(x => optRow("Tire", "bus_tire", x.label, x.price, x.img, "radio")).join("")}
          </div>
        </div>

        <div class="block">
          <h4>Free Gifts (placeholder)</h4>
          <div style="background:#fff;border:1px solid rgba(217,241,226,.95);border-radius:16px;padding:12px;color:rgba(71,85,105,.85);font-weight:650;line-height:1.55;">
            Free gifts: (placeholder) — you will edit later.
          </div>
        </div>
      `;
    }

    function attachEvents(){
      document.querySelectorAll('#modalForm input').forEach(inp=>{
        inp.addEventListener('change', calcTotal);
      });
    }

    function calcTotal(){
      let total = baseFrom;
      selected = [];

      document.querySelectorAll('#modalForm input:checked').forEach(inp=>{
        const price = Number(inp.dataset.price || 0);
        const label = inp.dataset.label || "";
        total += price;
        selected.push({label, price});
      });

      document.getElementById("totalPrice").textContent = `$${total.toFixed(0)}`;
      document.getElementById("totalBarPrice").textContent = `$${total.toFixed(0)}`;
    }

    function sendWhatsApp(){
      // compose message
      const title = (currentCategory==="golf")
        ? `Product: Electric Golf Cart (Package ${currentPackage})`
        : `Product: Electric Mini Bus (Package ${currentPackage})`;

      const picks = selected.length
        ? selected.map(x => `- ${x.label} (+$${x.price})`).join('%0A')
        : "- (no selections yet)";

      const total = document.getElementById("totalPrice").textContent;

      const msg =
        `Hello, I want a quote.%0A` +
        `${title}%0A` +
        `Selections:%0A${picks}%0A` +
        `Total (reference): ${encodeURIComponent(total)}%0A` +
        `Destination: (Please tell us your port/country)%0A` +
        `Notes: (OEM/Color/Logo etc.)`;

      const url = `https://wa.me/${WHATSAPP}?text=${msg}`;
      window.open(url, "_blank");
    }

    // close modal on background click
    document.getElementById('modal').addEventListener('click', (e)=>{
      if(e.target.id === 'modal') closeModal();
    });

    // Escape key close
    document.addEventListener('keydown', (e)=>{
      if(e.key === "Escape") closeModal();
    });
  </script>
</body>
</html>
